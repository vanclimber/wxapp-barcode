!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).default={})}(this,function(t){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var n,c=0,d=1,f=98,u=103,s=106,g=(e(n={},103,c),e(n,104,d),e(n,105,2),n),v={101:c,100:d,99:2},p=String.fromCharCode(208),w=String.fromCharCode(209),y=String.fromCharCode(210),o="[\0-_È-Ï]",r="[ -È-Ï]",a="(Ï*[0-9]{2}Ï*)",b=[[2,1,2,2,2,2,0,0],[2,2,2,1,2,2,0,0],[2,2,2,2,2,1,0,0],[1,2,1,2,2,3,0,0],[1,2,1,3,2,2,0,0],[1,3,1,2,2,2,0,0],[1,2,2,2,1,3,0,0],[1,2,2,3,1,2,0,0],[1,3,2,2,1,2,0,0],[2,2,1,2,1,3,0,0],[2,2,1,3,1,2,0,0],[2,3,1,2,1,2,0,0],[1,1,2,2,3,2,0,0],[1,2,2,1,3,2,0,0],[1,2,2,2,3,1,0,0],[1,1,3,2,2,2,0,0],[1,2,3,1,2,2,0,0],[1,2,3,2,2,1,0,0],[2,2,3,2,1,1,0,0],[2,2,1,1,3,2,0,0],[2,2,1,2,3,1,0,0],[2,1,3,2,1,2,0,0],[2,2,3,1,1,2,0,0],[3,1,2,1,3,1,0,0],[3,1,1,2,2,2,0,0],[3,2,1,1,2,2,0,0],[3,2,1,2,2,1,0,0],[3,1,2,2,1,2,0,0],[3,2,2,1,1,2,0,0],[3,2,2,2,1,1,0,0],[2,1,2,1,2,3,0,0],[2,1,2,3,2,1,0,0],[2,3,2,1,2,1,0,0],[1,1,1,3,2,3,0,0],[1,3,1,1,2,3,0,0],[1,3,1,3,2,1,0,0],[1,1,2,3,1,3,0,0],[1,3,2,1,1,3,0,0],[1,3,2,3,1,1,0,0],[2,1,1,3,1,3,0,0],[2,3,1,1,1,3,0,0],[2,3,1,3,1,1,0,0],[1,1,2,1,3,3,0,0],[1,1,2,3,3,1,0,0],[1,3,2,1,3,1,0,0],[1,1,3,1,2,3,0,0],[1,1,3,3,2,1,0,0],[1,3,3,1,2,1,0,0],[3,1,3,1,2,1,0,0],[2,1,1,3,3,1,0,0],[2,3,1,1,3,1,0,0],[2,1,3,1,1,3,0,0],[2,1,3,3,1,1,0,0],[2,1,3,1,3,1,0,0],[3,1,1,1,2,3,0,0],[3,1,1,3,2,1,0,0],[3,3,1,1,2,1,0,0],[3,1,2,1,1,3,0,0],[3,1,2,3,1,1,0,0],[3,3,2,1,1,1,0,0],[3,1,4,1,1,1,0,0],[2,2,1,4,1,1,0,0],[4,3,1,1,1,1,0,0],[1,1,1,2,2,4,0,0],[1,1,1,4,2,2,0,0],[1,2,1,1,2,4,0,0],[1,2,1,4,2,1,0,0],[1,4,1,1,2,2,0,0],[1,4,1,2,2,1,0,0],[1,1,2,2,1,4,0,0],[1,1,2,4,1,2,0,0],[1,2,2,1,1,4,0,0],[1,2,2,4,1,1,0,0],[1,4,2,1,1,2,0,0],[1,4,2,2,1,1,0,0],[2,4,1,2,1,1,0,0],[2,2,1,1,1,4,0,0],[4,1,3,1,1,1,0,0],[2,4,1,1,1,2,0,0],[1,3,4,1,1,1,0,0],[1,1,1,2,4,2,0,0],[1,2,1,1,4,2,0,0],[1,2,1,2,4,1,0,0],[1,1,4,2,1,2,0,0],[1,2,4,1,1,2,0,0],[1,2,4,2,1,1,0,0],[4,1,1,2,1,2,0,0],[4,2,1,1,1,2,0,0],[4,2,1,2,1,1,0,0],[2,1,2,1,4,1,0,0],[2,1,4,1,2,1,0,0],[4,1,2,1,2,1,0,0],[1,1,1,1,4,3,0,0],[1,1,1,3,4,1,0,0],[1,3,1,1,4,1,0,0],[1,1,4,1,1,3,0,0],[1,1,4,3,1,1,0,0],[4,1,1,1,1,3,0,0],[4,1,1,3,1,1,0,0],[1,1,3,1,4,1,0,0],[1,1,4,1,3,1,0,0],[3,1,1,1,4,1,0,0],[4,1,1,1,3,1,0,0],[2,1,1,4,1,2,0,0],[2,1,1,2,1,4,0,0],[2,1,1,2,3,2,0,0],[2,3,3,1,1,1,2,0]],m=function(t){return t.match(new RegExp("^".concat(o,"*")))[0].length},C=function(t){return t.match(new RegExp("^".concat(r,"*")))[0].length},x=function(t){return t.match(new RegExp("^".concat(a,"*")))[0]};function S(t,e){var n=e?o:r,i=t.match(new RegExp("^(".concat(n,"+?)(([0-9]{2}){2,})([^0-9]|$)")));if(i)return i[1]+String.fromCharCode(204)+E(t.substring(i[1].length));i=t.match(new RegExp("^".concat(n,"+")))[0];return i.length===t.length?t:i+String.fromCharCode(e?205:206)+S(t.substring(i.length),!e)}function E(t){var e=x(t),n=e.length;if(n===t.length)return t;t=t.substring(n);n=m(t)>=C(t);return e+String.fromCharCode(n?206:205)+S(t,n)}function h(t){var e=[],t=(e=(2<=x(t=t).length?y+E(t):((n=m(t)>C(t))?p:w)+S(t,n)).split("").map(function(t){return t.charCodeAt(0)})).shift()-105,n=g[t];if(void 0===n)throw new RangeError("The encoding does not start with a start character.");for(var i=[],o=0,r=1,a=n;0<e.length;){var h,l=void 0;200<=e[0]?(l=e.shift()-105,void 0!==(h=v[l])?a=h:a!==c&&a!==d||l!==f||(e[0]=a===c?95<e[0]?e[0]-96:e[0]:e[0]<32?e[0]+96:e[0])):l=function(t,e){{var n;return e===c?(n=t.shift())<32?n+64:n-32:e===d?t.shift()-32:10*(t.shift()-48)+t.shift()-48}}(e,a),i.push(l),o+=l*r,r++}return i.unshift(t),i=i.concat([(o+t)%u,s])}function l(t,e,n){e=h(e),new R(t,n).draw(e)}var R=function(){function u(t,e){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");var n=e.autoFill,n=void 0===n||n,i=e.width,o=e.height,r=e.lineWidth,r=void 0===r?2:r,a=e.lineHeight,a=void 0===a?100:a,h=e.paddingLeft,h=void 0===h?10:h,l=e.paddingRight,l=void 0===l?10:l,c=e.paddingTop,c=void 0===c?0:c,d=e.paddingBottom,d=void 0===d?0:d,f=e.lineColor,f=void 0===f?"#000000":f;e.backgroundColor,(this.autoFill=n)?(e=750/wx.getSystemInfoSync().windowWidth,n=Math.round(i/e),i=Math.round(o/e),this.width=n-h-l,this.height=i-c-d):(this.lineWidth=r,this.lineHeight=a),this.area={top:c,left:h},t.fillStyle=f,this.ctx=t}var t,e,n;return t=u,(e=[{key:"draw",value:function(t){for(var e,n,i=this.ctx,o=this.autoFill?(n=this.width/(11*t.length+2),this.height):(n=this.lineWidth,this.lineHeight),r=this.area.left,a=this.area.top,h=0;h<t.length;h++)for(var l=t[h],c=0;c<8;c+=2){var d=b[l][c]*n,f=b[l][c+1]*n;0<d&&i.fillRect(r,a,d,o),r+=d+f}null!=(e=i.draw)&&e.call(i)}}])&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),u}();t.CODE128=function(r){var t,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",h=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},e=3<arguments.length?arguments[3]:void 0;"2d"===h.canvasType?((null==e||null==(t=e.createSelectorQuery)?void 0:t.call(e))||wx.createSelectorQuery()).select(r).fields({node:!0,size:!0}).exec(function(t){var e,n,i,o,t=null==(t=t[0])?void 0:t.node;t?(e=h.width,n=h.height,i=t.getContext("2d"),o=750/wx.getSystemInfoSync().windowWidth,t.width=e,t.height=n,i.scale(o,o),l(i,"".concat(a),h)):console.warn("[wxapp-barcode]: have not found this node by this selector: ".concat(r))}):(t=wx.createCanvasContext(r,e),l(t,"".concat(a),h))},Object.defineProperty(t,"__esModule",{value:!0})});
